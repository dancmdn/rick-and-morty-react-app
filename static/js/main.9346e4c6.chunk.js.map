{"version":3,"sources":["components/API/ApiService.js","components/CharacterList.jsx","components/UI/Loader/Loader.jsx","components/UI/MyInput/MyInput.jsx","hooks/useFetching.js","pages/Character.jsx","pages/Location.jsx","pages/Episode.jsx","components/UI/Navbar/Navbar.jsx","pages/CharacterId.jsx","App.js","index.js"],"names":["ApiService","name","page","axios","get","response","console","log","id","data","CharacterList","router","useHistory","map","character","className","onClick","push","src","image","alt","Loader","MyInput","inputValue","inputValueChanger","placeholder","onSearch","e","preventDefault","value","onChange","type","onKeyDown","key","useFetching","callback","useState","isLoading","setIsLoading","error","setError","fetching","a","message","Character","setInputValue","setData","setPage","totalPages","setTotalPages","clearDataToggler","useRef","current","getCharacter","results","info","pages","fetchCharacter","dataError","useEffect","lastElement","observer","disconnect","entries","isIntersecting","IntersectionObserver","observe","event","target","style","height","ref","background","Location","Episode","Navbar","to","activeClassName","CharacterId","params","useParams","setCharacter","getCharacterById","fetchCharacterById","species","status","App","basename","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9346e4c6.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport default class ApiService {\n\tstatic async getCharacter(name, page = 1) {\n\t\tconst response = await axios.get(`https://rickandmortyapi.com/api/character/?name=${name}&page=${page}`);\n\t\tconsole.log(response);\n\t\treturn response;\n\t}\n\n\tstatic async getCharacterById(id) {\n\t\tconst response = await axios.get(`https://rickandmortyapi.com/api/character/${id}`);\n\t\tconsole.log('dsafs',id);\n\t\tconsole.log('dsafsdasfdsfdsfdsfdsafdsasafdsa',id);\n\t\tconsole.log(response.data);\n\t\treturn response;\n\t}\n}","import React from 'react';\nimport { useHistory } from \"react-router-dom\";\n\nimport './CharacterList.css';\n\nconst CharacterList = ({ data }) => {\n\n\tconst router = useHistory(); \n\t\n\treturn (\n\t\tdata.map((character) =>\n\t\t\t<div className=\"character-card\" key={character.id} onClick={() => router.push(`/character/${character.id}`)}>\n\t\t\t\t<img className=\"character-card__img\" src={character.image} alt={character.name} />\n\t\t\t\t<div className=\"character-card__name\">{character.name}</div>\n\t\t\t</div>\n\t\t)\n\t);\n};\n\nexport default CharacterList;","import React from 'react';\nimport './Loader.css';\n\nconst Loader = () => {\n\treturn (\n\t\t<div className=\"loader-container\">\n\t\t\t<div className=\"loader\">\n\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Loader;","import React from 'react';\nimport './MyInput.css';\n\nconst MyInput = ({inputValue, inputValueChanger, placeholder, onSearch }) => {\n\tfunction onClick(e) {\n\t\te.preventDefault();\n\t\tonSearch();\n\t}\n\n\tfunction onKeyDown(e) {\n\t\tif (e.key === 'Enter') {\n\t\t\tonClick(e)\n\t\t}\n\t}\n\n\treturn (\n\t\t<form>\n\t\t\t<input \n\t\t\t\tclassName=\"my-input\"\n\t\t\t\tvalue={inputValue}\n\t\t\t\tonChange={inputValueChanger}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\ttype=\"text\" \n\t\t\t\tonKeyDown={onKeyDown}\n\t\t\t/>\n\t\t\t<button \n\t\t\t\ttype=\"submit\" \n\t\t\t\tonClick={onClick}\n\t\t\t>\n\t\t\t\tSEARCH!\n\t\t\t</button>\n\t\t</form>\n\t);\n};\n\nexport default MyInput;","import { useState } from \"react\"\n\nexport const useFetching = (callback) => {\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [error, setError] = useState('');\n\n\tconst fetching = async () => {\n\t\ttry {\n\t\t\tsetIsLoading(true);\n\t\t\tsetError('');\n\t\t\tawait callback();\n\t\t} catch(e) {\n\t\t\tsetError(e.message); \n\t\t} finally {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}\n\n\treturn [fetching, isLoading, error];\n}","import React, { useEffect, useRef, useState } from 'react';\nimport ApiService from '../components/API/ApiService';\nimport CharacterList from '../components/CharacterList';\nimport Loader from '../components/UI/Loader/Loader';\nimport MyInput from '../components/UI/MyInput/MyInput';\nimport { useFetching } from '../hooks/useFetching';\n\nconst Character = () => {\n\tconst [inputValue, setInputValue] = useState('');\n\tconst [data, setData] = useState([]);\n\tconst [page, setPage] = useState(1);\n\tconst [totalPages, setTotalPages] = useState(0);\n\n\tconst clearDataToggler = useRef(false);\n\n\tconst [fetchCharacter, isLoading, dataError] = useFetching(async () => {\n\t\tconsole.log('PAGE: ', page);\n\t\tlet response;\n\t\tif (clearDataToggler.current) {\n\t\t\tresponse = await ApiService.getCharacter(inputValue, 1);\n\t\t\tsetData(response.data.results);\n\t\t\tsetPage(1);\n\t\t}\telse {\n\t\t\tresponse = await ApiService.getCharacter(inputValue, page);\n\t\t\tsetData([...data, ...response.data.results]);\n\t\t}\n\t\tsetTotalPages(response.data.info.pages);\n\t});\n\n\tuseEffect(() => {\n\t\tfetchCharacter();\n\t}, [page])\n\n\tconst lastElement = useRef();\n\tconst observer = useRef();\n\n\tuseEffect(() => {\n\t\tif (isLoading) return;\n\t\tif (observer.current) observer.current.disconnect();\n\t\tconst callback = async function (entries, observer) {\n\t\t\tif (entries[0].isIntersecting && page < totalPages) {\n\t\t\t\tconsole.log('observed page: ', page, 'of total: ', totalPages);\n\t\t\t\tconsole.log('*************************************************');\n\t\t\t\tclearDataToggler.current = false;\n\t\t\t\tsetPage(page + 1);\n\t\t\t}\n\t\t};\n\t\tobserver.current = new IntersectionObserver(callback);\n\t\tobserver.current.observe(lastElement.current)\n\t}, [isLoading]);\n\n\tfunction onSearch() {\n\t\tclearDataToggler.current = true;\n\t\tfetchCharacter();\n\t}\n\n\treturn (\n\t\t<div className=\"_container\">\n\t\t\t<MyInput\n\t\t\t\tinputValue={inputValue}\n\t\t\t\tinputValueChanger={event => setInputValue(event.target.value)}\n\t\t\t\tonSearch={onSearch}\n\t\t\t\tplaceholder='Search for character'\n\t\t\t/>\n\t\t\t<div className=\"main-content\">\n\t\t\t\t{dataError &&\n\t\t\t\t\t<div style={{ height: '100vh' }}><h1>There is no such character!</h1></div>\n\t\t\t\t}\n\t\t\t\t{isLoading\n\t\t\t\t\t? <Loader />\n\t\t\t\t\t: <CharacterList data={dataError ? [] : data} />\n\t\t\t\t}\n\t\t\t</div>\n\n\t\t\t<div ref={lastElement} style={{ height: '20px', background: '#ccc' }}></div>\n\t\t</div>\n\t);\n};\n\nexport default Character;","import React from 'react';\n\nconst Location = () => {\n\treturn (\n\t\t<div>\n\t\t\tLocation\n\t\t</div>\n\t);\n};\n\nexport default Location;","import React from 'react';\n\nconst Episode = () => {\n\treturn (\n\t\t<div>\n\t\t\tEpisode\n\t\t</div>\n\t);\n};\n\nexport default Episode;","import React from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport \"./Navbar.css\";\n\nconst Navbar = () => {\n\treturn (\n\t\t<div className=\"navbar\">\n\t\t\t<div className=\"_container\">\n\t\t\t\t<div className=\"navbar__container\">\n\t\t\t\t\t<div className=\"navbar__logo\">Rick and Morty</div>\n\t\t\t\t\t<div className=\"navbar__links\">\n\t\t\t\t\t\t<NavLink to=\"/character\" activeClassName=\"active\">Character</NavLink>\n\t\t\t\t\t\t<NavLink to=\"/location\" activeClassName=\"active\">Location</NavLink>\n\t\t\t\t\t\t<NavLink to=\"/episode\" activeClassName=\"active\">Episode</NavLink>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Navbar;","import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react/cjs/react.development';\nimport ApiService from '../components/API/ApiService';\nimport Loader from '../components/UI/Loader/Loader';\nimport { useFetching } from '../hooks/useFetching';\n\nconst CharacterId = () => {\n\tconst params = useParams();\n\tconst [character, setCharacter] = useState({});\n\tconst [fetchCharacterById, isLoading, error] = useFetching(async () => {\n\t\tconst response = await ApiService.getCharacterById(params.id);\n\t\tsetCharacter(response.data);\n\t})\n\n\tuseEffect(() => {\n\t\tfetchCharacterById();\n\t}, [])\n\n\treturn (\n\t\t<div className=\"_container\">\n\t\t\t{isLoading \n\t\t\t\t? <Loader />\n\t\t\t\t: <div>\n\t\t\t\t\t<img src={character.image} alt=\"\" />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>{character.name}</p>\n\t\t\t\t\t\t<p>{character.species}</p>\n\t\t\t\t\t\t<p>{character.status}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t);\n};\n\nexport default CharacterId;","import React, {  } from \"react\";\nimport { Route, Switch, Redirect, HashRouter } from \"react-router-dom\";\nimport Character from \"./pages/Character\";\nimport Location from \"./pages/Location\";\nimport Episode from \"./pages/Episode\";\nimport Navbar from \"./components/UI/Navbar/Navbar\";\nimport CharacterId from \"./pages/CharacterId\";\n\nfunction App() {\n  return (\n    <div>\n      <HashRouter basename=\"/\" className=\"browser-router\">\n        <Navbar />\n        <Switch>\n          <Route exact path=\"/character\">\n            <Character />\n          </Route>\n          <Route path=\"/character/:id\">\n            <CharacterId />\n          </Route> \n          <Route path=\"/location\">\n            <Location />\n          </Route>\n          <Route path=\"/episode\">\n            <Episode />\n          </Route>\n          <Redirect to=\"/character\" />\n        </Switch>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}