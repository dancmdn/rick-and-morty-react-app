(this["webpackJsonprick-and-morty-react-app"]=this["webpackJsonprick-and-morty-react-app"]||[]).push([[0],{39:function(e,t,c){},59:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(30),r=c.n(n),s=(c(39),c(9)),i=c(2),o=c(3),u=c.n(o),j=c(21),b=c(8),d=c(7),l=c(31),h=c(32),O=c(17),f=c.n(O),p=function(){function e(){Object(l.a)(this,e)}return Object(h.a)(e,null,[{key:"getCharacter",value:function(){var e=Object(b.a)(u.a.mark((function e(t){var c,a,n=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.length>1&&void 0!==n[1]?n[1]:1,e.next=3,f.a.get("https://rickandmortyapi.com/api/character/?name=".concat(t,"&page=").concat(c));case 3:return a=e.sent,console.log(a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCharacterById",value:function(){var e=Object(b.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://rickandmortyapi.com/api/character/".concat(t));case 2:return c=e.sent,console.log("dsafs",t),console.log("dsafsdasfdsfdsfdsfdsafdsasafdsa",t),console.log(c.data),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),x=(c(59),c(1)),v=function(e){var t=e.data,c=Object(i.g)();return t.map((function(e){return Object(x.jsxs)("div",{className:"character-card",onClick:function(){return c.push("/character/".concat(e.id))},children:[Object(x.jsx)("img",{className:"character-card__img",src:e.image,alt:e.name}),Object(x.jsx)("div",{className:"character-card__name",children:e.name})]},e.id)}))},m=(c(69),function(){return Object(x.jsx)("div",{className:"loader-container",children:Object(x.jsx)("div",{className:"loader"})})}),g=(c(70),function(e){var t=e.inputValue,c=e.inputValueChanger,a=e.placeholder,n=e.onSearch;function r(e){e.preventDefault(),n()}return Object(x.jsxs)("form",{children:[Object(x.jsx)("input",{className:"my-input",value:t,onChange:c,placeholder:a,type:"text",onKeyDown:function(e){"Enter"===e.key&&r(e)}}),Object(x.jsx)("button",{type:"submit",onClick:r,children:"SEARCH!"})]})}),k=function(e){var t=Object(a.useState)(!1),c=Object(d.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(""),i=Object(d.a)(s,2),o=i[0],j=i[1],l=function(){var t=Object(b.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),j(""),t.next=5,e();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),j(t.t0.message);case 10:return t.prev=10,r(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})));return function(){return t.apply(this,arguments)}}();return[l,n,o]},y=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)([]),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)(1),h=Object(d.a)(l,2),O=h[0],f=h[1],y=Object(a.useState)(0),N=Object(d.a)(y,2),w=N[0],C=N[1],_=Object(a.useRef)(!1),S=k(Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("PAGE: ",O),!_.current){e.next=9;break}return e.next=4,p.getCharacter(c,1);case 4:t=e.sent,o(t.data.results),f(1),e.next=13;break;case 9:return e.next=11,p.getCharacter(c,O);case 11:t=e.sent,o([].concat(Object(j.a)(i),Object(j.a)(t.data.results)));case 13:C(t.data.info.pages);case 14:case"end":return e.stop()}}),e)})))),E=Object(d.a)(S,3),I=E[0],R=E[1],V=E[2];Object(a.useEffect)((function(){I()}),[O]);var B=Object(a.useRef)(),A=Object(a.useRef)();return Object(a.useEffect)((function(){if(!R){A.current&&A.current.disconnect();var e=function(){var e=Object(b.a)(u.a.mark((function e(t,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t[0].isIntersecting&&O<w&&(console.log("observed page: ",O,"of total: ",w),console.log("*************************************************"),_.current=!1,f(O+1));case 1:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();A.current=new IntersectionObserver(e),A.current.observe(B.current)}}),[R]),Object(x.jsxs)("div",{className:"_container",children:[Object(x.jsx)(g,{inputValue:c,inputValueChanger:function(e){return n(e.target.value)},onSearch:function(){_.current=!0,I()},placeholder:"Search for character"}),Object(x.jsxs)("div",{className:"main-content",children:[V&&Object(x.jsx)("div",{style:{height:"100vh"},children:Object(x.jsx)("h1",{children:"There is no such character!"})}),R?Object(x.jsx)(m,{}):Object(x.jsx)(v,{data:V?[]:i})]}),Object(x.jsx)("div",{ref:B,style:{height:"20px",background:"#ccc"}})]})},N=function(){return Object(x.jsx)("div",{children:"Location"})},w=function(){return Object(x.jsx)("div",{children:"Episode"})},C=(c(71),function(){return Object(x.jsx)("div",{className:"navbar",children:Object(x.jsx)("div",{className:"_container",children:Object(x.jsxs)("div",{className:"navbar__container",children:[Object(x.jsx)("div",{className:"navbar__logo",children:"Rick and Morty"}),Object(x.jsxs)("div",{className:"navbar__links",children:[Object(x.jsx)(s.b,{to:"/character",activeClassName:"active",children:"Character"}),Object(x.jsx)(s.b,{to:"/location",activeClassName:"active",children:"Location"}),Object(x.jsx)(s.b,{to:"/episode",activeClassName:"active",children:"Episode"})]})]})})})}),_=c(20),S=function(){var e=Object(i.h)(),t=Object(_.useState)({}),c=Object(d.a)(t,2),a=c[0],n=c[1],r=k(Object(b.a)(u.a.mark((function t(){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getCharacterById(e.id);case 2:c=t.sent,n(c.data);case 4:case"end":return t.stop()}}),t)})))),s=Object(d.a)(r,3),o=s[0],j=s[1];s[2];return Object(_.useEffect)((function(){o()}),[]),Object(x.jsx)("div",{className:"_container",children:j?Object(x.jsx)(m,{}):Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{src:a.image,alt:""}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:a.name}),Object(x.jsx)("p",{children:a.species}),Object(x.jsx)("p",{children:a.status})]})]})})};var E=function(){return Object(x.jsx)("div",{children:Object(x.jsxs)(s.a,{className:"browser-router",children:[Object(x.jsx)(C,{}),Object(x.jsxs)(i.d,{children:[Object(x.jsx)(i.b,{exact:!0,path:"/character",children:Object(x.jsx)(y,{})}),Object(x.jsx)(i.b,{exact:!0,path:"/character/:id",children:Object(x.jsx)(S,{})}),Object(x.jsx)(i.b,{path:"/location",children:Object(x.jsx)(N,{})}),Object(x.jsx)(i.b,{path:"/episode",children:Object(x.jsx)(w,{})}),Object(x.jsx)(i.a,{to:"/character"})]})]})})};r.a.render(Object(x.jsx)(E,{}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.7e153348.chunk.js.map